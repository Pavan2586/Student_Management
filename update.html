<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>update</title>
</head>
<body style="background-color: white;padding-left: 40%;padding-top: 5%;">
    <div style="width:200px;height: 460px;border: 1px solid black;padding-left: 50px;background-color: rgb(69, 214, 124);">
    <h3>update page</h3>
    <form action="update" method="post" id="form">
        <div>
            <lable>enter ID</lable><br>
            <input type="number" placeholder="id" id="userId">
            <br><br> 
            <label>
                name:
            </label> <br>
            <input type="text" placeholder="name" id="name">
            <br><br> 
            <label>
                email:
            </label> <br>
            <input type="email" placeholder="email" id="email"><br> <br> 
            <label> 
                phone:
            </label>
            <br>
            <input type="tel" placeholder="phone" id="phone"><br> <br> 
            <label> 
                deposite ammount:
            </label>
            <br>
            <input type="number" placeholder="deposite in rs" id="balance">
            <br><br> <label>
                password:
            </label><br> 
            <input type="text" placeholder="password" id="pwd">
            <br>
            <br>
            <input type="submit" value="submit" style="border-radius: 20px;color: rgb(8, 8, 8);background-color: rgb(42, 104, 165); margin-left: 50px;">

        </div>
    </form>
    </div>
    <script>
        document.getElementById("form").addEventListener("submit",async function (event) {
                event.preventDefault();
                const emp={
                    id:document.getElementById("userId").value,
                    name:document.getElementById("name").value,
                    email:document.getElementById("email").value,
                    balance:document.getElementById("balance").value,
                    phone:document.getElementById("phone").value,
                    pwd:document.getElementById("pwd").value
                }
                console.log(emp);  
                try{
                    let res=await fetch("http://localhost:8080/updateBankAccount",
                        {
                            method:"put",
                            headers:{"Content-Type":"application/json"},
                            body:JSON.stringify(emp)
                        }
                    )
                    if(res.status==202)
                    {
                        alert("data updated successfullyðŸ«¡ðŸ«¡ðŸ«¡ðŸ«¡");
                        window.location.href="dahboard.html";

                    }
                    else{
                        alert("sorry...update failed.ðŸ«¢ðŸ«¢ðŸ˜¥ðŸ˜¥")
                    }
                }
                catch(error)
                {
                    console.log(error)
                }
                }
        )
    </script>
</body>
</html>